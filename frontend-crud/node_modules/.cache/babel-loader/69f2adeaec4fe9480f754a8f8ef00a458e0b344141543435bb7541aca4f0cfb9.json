{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8080/api/v1';\nconst handleResponse = async response => {\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({\n      message: response.statusText\n    }));\n    throw new Error(error.message || `Erro HTTP: ${response.status}`);\n  }\n  // Retorna JSON, ou null se a resposta for 204 No Content (DELETE)\n  return response.status !== 204 ? response.json() : null;\n};\n\n// Funções Genéricas de Requisição\n\nconst request = async (endpoint, method = 'GET', data = null) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const options = {\n    method,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  if (data) {\n    options.body = JSON.stringify(data);\n  }\n  try {\n    const response = await fetch(url, options);\n    return handleResponse(response);\n  } catch (error) {\n    console.error(`Erro na requisição ${method} para ${endpoint}:`, error);\n    throw error;\n  }\n};\n\n// Funções Específicas para CRUD de Categorias\n\nexport const CategoryService = {\n  // GET: Listar todos\n  findAll: () => request('/categorias'),\n  // GET: Buscar por ID\n  findById: id => request(`/categorias/${id}`),\n  // POST: Criar\n  create: categoryData => request('/categorias', 'POST', categoryData),\n  // PUT: Atualizar\n  update: (id, categoryData) => request(`/categorias/${id}`, 'PUT', categoryData),\n  // DELETE: Remover\n  remove: id => request(`/categorias/${id}`, 'DELETE')\n};\n\n// Funções Específicas para CRUD de Produtos\n\nexport const ProductService = {\n  // GET: Listar todos\n  findAll: () => request('/produtos'),\n  // GET: Buscar por ID\n  findById: id => request(`/produtos/${id}`),\n  // POST: Criar\n  create: productData => request('/produtos', 'POST', productData),\n  // PUT: Atualizar\n  update: (id, productData) => request(`/produtos/${id}`, 'PUT', productData),\n  // DELETE: Remover\n  remove: id => request(`/produtos/${id}`, 'DELETE')\n};","map":{"version":3,"names":["API_BASE_URL","handleResponse","response","ok","error","json","catch","message","statusText","Error","status","request","endpoint","method","data","url","options","headers","body","JSON","stringify","fetch","console","CategoryService","findAll","findById","id","create","categoryData","update","remove","ProductService","productData"],"sources":["C:/Users/Aluno/app_front_pordutosss/frontend-crud/src/services/apiService.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8080/api/v1';\r\n\r\nconst handleResponse = async (response) => {\r\n    if (!response.ok) {\r\n        const error = await response.json().catch(() => ({ message: response.statusText }));\r\n        throw new Error(error.message || `Erro HTTP: ${response.status}`);\r\n    }\r\n    // Retorna JSON, ou null se a resposta for 204 No Content (DELETE)\r\n    return response.status !== 204 ? response.json() : null;\r\n};\r\n\r\n// Funções Genéricas de Requisição\r\n\r\nconst request = async (endpoint, method = 'GET', data = null) => {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    const options = {\r\n        method,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n    };\r\n\r\n    if (data) {\r\n        options.body = JSON.stringify(data);\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(url, options);\r\n        return handleResponse(response);\r\n    } catch (error) {\r\n        console.error(`Erro na requisição ${method} para ${endpoint}:`, error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// Funções Específicas para CRUD de Categorias\r\n\r\nexport const CategoryService = {\r\n    // GET: Listar todos\r\n    findAll: () => request('/categorias'),\r\n   \r\n    // GET: Buscar por ID\r\n    findById: (id) => request(`/categorias/${id}`),\r\n\r\n    // POST: Criar\r\n    create: (categoryData) => request('/categorias', 'POST', categoryData),\r\n\r\n    // PUT: Atualizar\r\n    update: (id, categoryData) => request(`/categorias/${id}`, 'PUT', categoryData),\r\n\r\n    // DELETE: Remover\r\n    remove: (id) => request(`/categorias/${id}`, 'DELETE'),\r\n};\r\n\r\n// Funções Específicas para CRUD de Produtos\r\n\r\nexport const ProductService = {\r\n    // GET: Listar todos\r\n    findAll: () => request('/produtos'),\r\n   \r\n    // GET: Buscar por ID\r\n    findById: (id) => request(`/produtos/${id}`),\r\n\r\n    // POST: Criar\r\n    create: (productData) => request('/produtos', 'POST', productData),\r\n\r\n    // PUT: Atualizar\r\n    update: (id, productData) => request(`/produtos/${id}`, 'PUT', productData),\r\n\r\n    // DELETE: Remover\r\n    remove: (id) => request(`/produtos/${id}`, 'DELETE'),\r\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,8BAA8B;AAEnD,MAAMC,cAAc,GAAG,MAAOC,QAAQ,IAAK;EACvC,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;IACd,MAAMC,KAAK,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO;MAAEC,OAAO,EAAEL,QAAQ,CAACM;IAAW,CAAC,CAAC,CAAC;IACnF,MAAM,IAAIC,KAAK,CAACL,KAAK,CAACG,OAAO,IAAI,cAAcL,QAAQ,CAACQ,MAAM,EAAE,CAAC;EACrE;EACA;EACA,OAAOR,QAAQ,CAACQ,MAAM,KAAK,GAAG,GAAGR,QAAQ,CAACG,IAAI,CAAC,CAAC,GAAG,IAAI;AAC3D,CAAC;;AAED;;AAEA,MAAMM,OAAO,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,KAAK;EAC7D,MAAMC,GAAG,GAAG,GAAGf,YAAY,GAAGY,QAAQ,EAAE;EACxC,MAAMI,OAAO,GAAG;IACZH,MAAM;IACNI,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC;EAED,IAAIH,IAAI,EAAE;IACNE,OAAO,CAACE,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;EACvC;EAEA,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMmB,KAAK,CAACN,GAAG,EAAEC,OAAO,CAAC;IAC1C,OAAOf,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZkB,OAAO,CAAClB,KAAK,CAAC,sBAAsBS,MAAM,SAASD,QAAQ,GAAG,EAAER,KAAK,CAAC;IACtE,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;;AAEA,OAAO,MAAMmB,eAAe,GAAG;EAC3B;EACAC,OAAO,EAAEA,CAAA,KAAMb,OAAO,CAAC,aAAa,CAAC;EAErC;EACAc,QAAQ,EAAGC,EAAE,IAAKf,OAAO,CAAC,eAAee,EAAE,EAAE,CAAC;EAE9C;EACAC,MAAM,EAAGC,YAAY,IAAKjB,OAAO,CAAC,aAAa,EAAE,MAAM,EAAEiB,YAAY,CAAC;EAEtE;EACAC,MAAM,EAAEA,CAACH,EAAE,EAAEE,YAAY,KAAKjB,OAAO,CAAC,eAAee,EAAE,EAAE,EAAE,KAAK,EAAEE,YAAY,CAAC;EAE/E;EACAE,MAAM,EAAGJ,EAAE,IAAKf,OAAO,CAAC,eAAee,EAAE,EAAE,EAAE,QAAQ;AACzD,CAAC;;AAED;;AAEA,OAAO,MAAMK,cAAc,GAAG;EAC1B;EACAP,OAAO,EAAEA,CAAA,KAAMb,OAAO,CAAC,WAAW,CAAC;EAEnC;EACAc,QAAQ,EAAGC,EAAE,IAAKf,OAAO,CAAC,aAAae,EAAE,EAAE,CAAC;EAE5C;EACAC,MAAM,EAAGK,WAAW,IAAKrB,OAAO,CAAC,WAAW,EAAE,MAAM,EAAEqB,WAAW,CAAC;EAElE;EACAH,MAAM,EAAEA,CAACH,EAAE,EAAEM,WAAW,KAAKrB,OAAO,CAAC,aAAae,EAAE,EAAE,EAAE,KAAK,EAAEM,WAAW,CAAC;EAE3E;EACAF,MAAM,EAAGJ,EAAE,IAAKf,OAAO,CAAC,aAAae,EAAE,EAAE,EAAE,QAAQ;AACvD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}